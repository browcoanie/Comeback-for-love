    :root{
      --bg0: #0b0b10;
      --bg1: #101019;
      --fg: #e8e6f0;
      --muted: #b9b4c7;
      --accent: #b40f2e;
      --accent-light: #d4476a;
      --violet: #6d5d8d;
      --gold: #d4af37;
      --shadow: rgba(0,0,0,.55);
      --card: #11131a;
      --glow: rgba(212, 175, 55, 0.15);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 700px at 70% 20%, #1b1b27 0%, var(--bg1) 50%, var(--bg0) 100%);
      color:var(--fg);
      font-family:"Domine", serif;
      display:flex;align-items:center;justify-content:center;
      overflow:hidden;
      min-height: 100vh;
      min-height: 100dvh; /* Dynamic viewport height for mobile */
    }
    .stars{position:fixed;inset:0;pointer-events:none;opacity:.65}
    .stars canvas{width:100%;height:100%;display:block}
    .frame{
      position:relative;
      width:min(920px, 95vw);
      min-height:min(640px, 95vh);
      min-height:min(640px, 95dvh); /* Dynamic viewport height */
      background:linear-gradient(180deg, rgba(28,28,41,.85), rgba(12,12,20,.85));
      border:2px solid rgba(212, 175, 55, 0.2);
      box-shadow:
        0 20px 80px var(--shadow), 
        inset 0 0 80px rgba(255,255,255,.03),
        0 0 120px rgba(212, 175, 55, 0.08);
      border-radius:32px;
      overflow:hidden;
      animation: frameGlow 8s ease-in-out infinite alternate;
      max-height: 95vh;
      max-height: 95dvh;
    }
    @keyframes frameGlow {
      0% { box-shadow: 0 20px 80px var(--shadow), inset 0 0 80px rgba(255,255,255,.03), 0 0 120px rgba(212, 175, 55, 0.08); }
      100% { box-shadow: 0 20px 80px var(--shadow), inset 0 0 80px rgba(255,255,255,.03), 0 0 120px rgba(212, 175, 55, 0.15); }
    }
    .orn{position:absolute;inset:0;pointer-events:none}
    .orn svg{position:absolute;filter:drop-shadow(0 6px 12px rgba(0,0,0,.6));opacity:.4}
    .orn .tl{top:0;left:0;transform:translate(-6px,-6px)}
    .orn .tr{top:0;right:0;transform:scaleX(-1) translate(-6px,-6px)}
    .orn .bl{bottom:0;left:0;transform:scaleY(-1) translate(-6px,-6px)}
    .orn .br{bottom:0;right:0;transform:scale(-1,-1) translate(-6px,-6px)}
    .moon{
      position:absolute;top:6%;right:6%;width:120px;height:120px;border-radius:50%;
      background:radial-gradient(50% 50% at 30% 30%, #f5f4fa 0%, #d8d6e6 55%, #b9b4c7 100%);
      box-shadow:0 0 100px 25px rgba(255,255,255,.1);
      filter:grayscale(.05);
      animation: moonPulse 6s ease-in-out infinite alternate;
    }
    @keyframes moonPulse {
      0% { box-shadow: 0 0 100px 25px rgba(255,255,255,.1); transform: scale(1); }
      100% { box-shadow: 0 0 120px 30px rgba(255,255,255,.15); transform: scale(1.02); }
    }
    .shooting-star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: var(--gold);
      border-radius: 50%;
      opacity: 0;
      animation: shootingStar 3s ease-out infinite;
    }
    @keyframes shootingStar {
      0% { opacity: 0; transform: translateX(-100px) translateY(50px); }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { opacity: 0; transform: translateX(300px) translateY(-50px); }
    }
    .ground{position:absolute;bottom:-2px;left:0;right:0;height:30%;background:linear-gradient(180deg, transparent, rgba(0,0,0,.3) 30%, rgba(0,0,0,.8) 100%);pointer-events:none}
    .twigs{position:absolute;bottom:0;left:0;right:0;height:36%;background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 400"><g fill="%230a0a12" stroke="%231b1b27" stroke-width="2"> <path d="M0 360 C 200 340, 300 380, 500 360 S 900 340, 1200 360 L 1200 400 L 0 400 Z" /> <path d="M100 360 q 40 -120 80 0 M220 360 q 50 -180 110 0 M420 360 q 40 -160 80 0 M720 360 q 50 -200 100 0 M980 360 q 60 -170 140 0" fill="none"/> </g></svg>') bottom/cover no-repeat;opacity:.6;filter:blur(.5px);pointer-events:none}
    .content{position:relative; z-index:2; height:100%; width:100%;display:grid; grid-template-rows: 1fr auto}
    .story{display:flex;align-items:center;justify-content:center;padding: clamp(12px, 4vw, 48px);text-align:center;flex:1;overflow-y:auto}
    .card{
      max-width: 62ch;
      padding: clamp(16px, 5vw, 40px);
      background: linear-gradient(180deg, rgba(17,19,26,.75), rgba(17,19,26,.45));
      border:2px solid rgba(212, 175, 55, 0.15);
      border-radius: clamp(20px, 4vw, 28px);
      backdrop-filter: blur(8px) saturate(130%);
      transition: all .6s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 
        inset 0 0 30px rgba(255,255,255,.05), 
        0 15px 50px var(--shadow),
        0 0 80px rgba(212, 175, 55, 0.08);
      position: relative;
      overflow: hidden;
      width: 100%;
      max-width: min(62ch, 90vw);
    }
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.1), transparent);
      transition: left 0.8s;
    }
    .card:hover::before {
      left: 100%;
    }
    h1{
      font-family: "Cinzel", serif;
      letter-spacing:.05em;
      font-weight:700;
      margin:0 0 .6rem;
      font-size:clamp(1.4rem, 6vw, 2.4rem);
      color: var(--gold);
      text-shadow: 0 3px 15px rgba(0,0,0,.8), 0 0 30px rgba(212, 175, 55, 0.3);
      position: relative;
      z-index: 1;
      line-height: 1.2;
    }
    p{
      margin:.6rem 0 0 0; 
      line-height:1.6; 
      font-size:clamp(1rem, 4vw, 1.3rem);
      color: var(--fg);
      text-shadow: 0 2px 8px rgba(0,0,0,.5);
      position: relative;
      z-index: 1;
    }
    .accent{color:var(--accent-light);font-weight:600}
    .romantic-quote {
      font-family: "Dancing Script", cursive;
      font-size: clamp(1.2rem, 5vw, 1.6rem);
      color: var(--accent-light);
      font-style: italic;
    }
    .controls{
      display:flex; 
      gap:clamp(8px, 3vw, 12px); 
      align-items:center; 
      justify-content:center;
      padding: clamp(12px, 3vw, 16px) clamp(16px, 4vw, 20px) clamp(20px, 5vw, 28px);
      position: relative;
      flex-wrap: wrap;
    }
    button{
      font-family:"Cinzel", serif;
      border:2px solid rgba(212, 175, 55, 0.3);
      background:linear-gradient(180deg, rgba(27,27,36,.95), rgba(17,17,24,.95));
      color:var(--fg); 
      padding:clamp(10px, 3vw, 14px) clamp(16px, 4vw, 22px); 
      border-radius:clamp(14px, 3vw, 18px);
      font-size:clamp(0.9rem, 3vw, 1rem); 
      font-weight: 600;
      letter-spacing:.03em;
      cursor:pointer; 
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow:0 8px 25px rgba(0,0,0,.4);
      position: relative;
      overflow: hidden;
      white-space: nowrap;
      min-height: 44px; /* Touch-friendly minimum */
    }
    button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.2), transparent);
      transition: left 0.5s;
    }
    button:hover{
      transform: translateY(-2px) scale(1.02); 
      box-shadow:0 12px 35px rgba(0,0,0,.5);
      border-color: rgba(212, 175, 55, 0.5);
      background: linear-gradient(180deg, rgba(35,35,45,.95), rgba(25,25,35,.95));
    }
    button:hover::before {
      left: 100%;
    }
    button:active{transform: translateY(0) scale(1)}
    .ghost{opacity:.5}
    .ghost:hover{opacity:.8}
    .progress{
      flex:1; 
      height:clamp(8px, 2vw, 10px); 
      background:rgba(255,255,255,.1); 
      border-radius:999px; 
      overflow:hidden; 
      max-width:min(380px, 60vw);
      min-width: 120px;
      border: 1px solid rgba(212, 175, 55, 0.2);
      box-shadow: inset 0 2px 8px rgba(0,0,0,.3);
    }
    .bar{
      height:100%; 
      width:0%; 
      background:linear-gradient(90deg, var(--violet), var(--accent-light), var(--gold)); 
      transition: width .6s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 0 20px rgba(212, 175, 55, 0.4);
      position: relative;
    }
    .bar::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 20px;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.4));
      animation: shimmer 2s ease-in-out infinite;
    }
    @keyframes shimmer {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }
    .fade-out{
      opacity:0; 
      transform: translateY(10px) scale(0.98);
      filter: blur(2px);
    }
    .fade-in{
      opacity:1; 
      transform: translateY(0) scale(1);
      filter: blur(0px);
    }
    .heart {
      position: absolute;
      color: var(--accent-light);
      opacity: 0;
      animation: floatingHeart 4s ease-out infinite;
      pointer-events: none;
      font-size: 1.2rem;
    }
    @keyframes floatingHeart {
      0% { 
        opacity: 0; 
        transform: translateY(0) scale(0.5); 
      }
      10% { 
        opacity: 1; 
        transform: translateY(-10px) scale(1); 
      }
      90% { 
        opacity: 1; 
        transform: translateY(-100px) scale(1); 
      }
      100% { 
        opacity: 0; 
        transform: translateY(-120px) scale(0.5); 
      }
    }
    .question-mark {
      display: inline-block;
      animation: questionPulse 2s ease-in-out infinite;
    }
    @keyframes questionPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); color: var(--accent-light); }
    }
    @media (max-width: 768px) {
      .controls{flex-direction: column; gap: 10px}
      .progress{order: -1; max-width: 70vw; margin-bottom: 10px}
      .button-group{display: flex; gap: 10px; width: 100%; justify-content: center}
      .content{justify-content: center; align-items: center}
    }
    @media (max-width: 520px){
      .moon{width:clamp(60px, 12vw, 90px);height:clamp(60px, 12vw, 90px);top:4%;right:4%}
      .frame{
        min-height: 100vh; 
        min-height: 100dvh; 
        border-radius: 20px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .content{
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100%;
        padding: 20px 0;
      }
      .story{
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: clamp(20px, 6vw, 40px) clamp(12px, 4vw, 20px);
      }
      .card{
        padding: clamp(20px, 6vw, 28px); 
        border-radius: 20px;
        margin: auto;
      }
      .controls{
        gap: 8px; 
        padding: 16px 16px 24px;
        flex-shrink: 0;
      }
      .progress{max-width: 80vw; margin-bottom: 12px}
      .button-group{gap: 10px}
      h1{font-size: clamp(1.4rem, 7vw, 1.9rem); margin-bottom: 0.8rem}
      p{font-size: clamp(1rem, 4.5vw, 1.2rem); line-height: 1.6}
      .romantic-quote{font-size: clamp(1.2rem, 6vw, 1.5rem)}
      .twigs{height: 20%; opacity: 0.4}
      .shooting-star{display: none} /* Hide on mobile for performance */
      body{
        overflow-y: auto; /* Allow scrolling on mobile if needed */
        align-items: stretch; /* Allow full height usage */
      }
    }